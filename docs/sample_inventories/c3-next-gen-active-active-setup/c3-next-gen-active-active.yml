---
### C3 Next Gen Active Active Setup
##
## The following is an example inventory file for setting up Confluent Platform with
## C3 Next Gen Active Active Setup. This configuration demonstrates how to deploy
## multiple Control Center Next Gen instances in an active-active configuration
## for high availability and load distribution.

all:
  vars:
    ansible_connection: ssh
    ansible_user: ec2-user
    ansible_become: true
    ansible_ssh_private_key_file: /home/ec2-user/guest.pem
    ansible_python_interpreter: /usr/bin/python3

kafka_controller:
  vars:
    kafka_broker_custom_properties:
      confluent.telemetry.exporter._c3-2.api.key: dummy
      confluent.telemetry.exporter._c3-2.api.secret: dummy
      confluent.telemetry.exporter._c3-2.buffer.batch.items.max: 4000
      confluent.telemetry.exporter._c3-2.buffer.inflight.submissions.max: 20
      confluent.telemetry.exporter._c3-2.buffer.pending.batches.max: 80
      confluent.telemetry.exporter._c3-2.client.base.url: http://control-center-next-gen-node-2.confluent.io:9090/api/v1/otlp
      confluent.telemetry.exporter._c3-2.client.compression: gzip
      confluent.telemetry.exporter._c3-2.enabled: true
      confluent.telemetry.exporter._c3-2.metrics.include: ^(?:(?!delta)(?!jvm).)*$
      confluent.telemetry.exporter._c3-2.type: http
  hosts:
    controller[01:03].confluent.io:

kafka_broker:
  vars:
    kafka_broker_custom_properties:
      confluent.telemetry.exporter._c3-2.api.key: dummy
      confluent.telemetry.exporter._c3-2.api.secret: dummy
      confluent.telemetry.exporter._c3-2.buffer.batch.items.max: 4000
      confluent.telemetry.exporter._c3-2.buffer.inflight.submissions.max: 20
      confluent.telemetry.exporter._c3-2.buffer.pending.batches.max: 80
      confluent.telemetry.exporter._c3-2.client.base.url: http://control-center-next-gen-node-2.confluent.io:9090/api/v1/otlp
      confluent.telemetry.exporter._c3-2.client.compression: gzip
      confluent.telemetry.exporter._c3-2.enabled: true
      confluent.telemetry.exporter._c3-2.metrics.include: ^(?:(?!delta)(?!jvm).)*$
      confluent.telemetry.exporter._c3-2.type: http
  hosts:
    kafka-broker[01:03].confluent.io:

control_center_next_gen:
  hosts:
    control-center-next-gen-node-1.confluent.io:

    control-center-next-gen-node-2.confluent.io:
      control_center_next_gen_custom_properties:
        confluent.controlcenter.id: 2
        confluent.controlcenter.prometheus.url: http://control-center-next-gen-node-2.confluent.io:9090
        confluent.controlcenter.alertmanager.url: http://control-center-next-gen-node-2.confluent.io:9093
      control_center_next_gen_dependency_alertmanager_host: control-center-next-gen-node-2.confluent.io
