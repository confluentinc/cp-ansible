---
# More usm_agent variables are defined in the variables role

# Health Check Configuration
usm_agent_health_check_enabled: true
usm_agent_health_check_retries: 3
usm_agent_health_check_delay: 30
usm_agent_validz_check_enabled: false
# For following dictionaries, Key/Value Pairs with empty values will not be written into override.conf

### Overrides to the Service Section of USM Agent Systemd File. This variable is a dictionary.
usm_agent_service_overrides:
  LimitNOFILE: 100000
  User: "{{ usm_agent_default_user }}"
  Group: "{{ usm_agent_default_group }}"
  ExecStart: "{% if installation_method == 'archive' %}{{ usm_agent_binary_base_path }}/bin/usm-agent {{ usm_agent.config_file }}{% endif %}"

### Environment Variables to be added to the USM Agent Service. This variable is a dictionary.
usm_agent_service_environment_overrides:
  # Remove trailing slash if there is one
  LOG_DIR: "{{ usm_agent.log_dir|regex_replace('\\/$', '') }}"

### Overrides to the Unit Section of USM Agent Systemd File. This variable is a dictionary.
usm_agent_service_unit_overrides:

# Logrotate Configuration
usm_agent_logrotate_enabled: true

# Logrotate Parameters
usm_agent_logrotate_config:
  # Size limit for rotation (e.g., "10M", "100M", "1G")
  size: "10M"
  # Number of rotated files to keep
  rotate: 5
