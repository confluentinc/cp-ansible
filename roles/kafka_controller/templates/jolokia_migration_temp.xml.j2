<?xml version="1.0" encoding="utf-8"?>
<!--
  Temporary Jolokia Access Control Policy for ZK to KRaft Migration
  This policy allows access only to the endpoint required for "Wait for Metadata Migration" task
  and should be replaced with a more restrictive policy after migration completes
-->
<restrict>
  <!-- Allow access to migration state endpoint - Required for "Wait for Metadata Migration" task -->
  <mbean>
    <n>kafka.controller:type=KafkaController,name=ZkMigrationState</n>
    <operation>read</operation>
  </mbean>

  <!-- Allow jolokia read operations -->
  <command>read</command>

  <!-- Default deny for everything else -->
  <default>deny</default>
</restrict>
