---
# Important: this module does not check if the item already has correct encoding
# So if your file is already encoded as IBM-1047, it will turn into garbage.
- name: Convert files to z/OS encoding
  ibm.ibm_zos_core.zos_encode:
    src: "{{ item }}"
    encoding:
      from: ISO8859-1
      to: IBM-1047
    backup: yes
  loop: "{{ paths_to_convert }}"
