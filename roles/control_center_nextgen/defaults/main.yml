---
# More control_center variables are defined in the variables role

### Boolean to reconfigure Control Center's logging with RollingFileAppender and log cleanup
control_center_custom_log4j: "{{ custom_log4j }}"

### Root logger within Control Center's log4j config. Only honored if control_center_custom_log4j: true
control_center_log4j_root_logger: "INFO, main"

### Max number of log files generated by Control Center. Only honored if control_center_custom_log4j: true
control_center_max_log_files: 10

### Max size of a log file generated by Control Center. Only honored if control_center_custom_log4j: true
control_center_log_file_size: 100MB

### List of loggers to redact. This is specified alongside the user defined redactor name and appenderRefs to be used in redactor definition. The redactor name should be unique for each logger.
control_center_logredactor_logger_specs_list:
  - { logger_name: "log4j.rootLogger", appenderRefs: "main" }

control_center_java_args:
  - "{% if control_center_ssl_enabled|bool %}-Djdk.tls.ephemeralDHKeySize=2048{% endif %}"
  - "{% if control_center_authentication_type == 'basic' %}-Djava.security.auth.login.config={{control_center.jaas_file}}{% endif %}"
  - "{% if kerberos_client_config_file_dest != '/etc/krb5.conf' %}-Djava.security.krb5.conf={{kerberos_client_config_file_dest}}{% endif %}"

### Custom Java Args to add to the Control Center Process
control_center_custom_java_args: ""

control_center_final_java_args: "{{ control_center_java_args + [ control_center_custom_java_args ] }}"

### Full Path to the RocksDB Data Directory. If left as empty string, cp-ansible will not configure RocksDB
control_center_rocksdb_path: ""

# For following dictionaries, Key/Value Pairs with empty values will not be written into override.conf

### Overrides to the Service Section of Control Center Systemd File. This variable is a dictionary.
control_center_service_overrides:
  User: "{{ control_center_user if control_center_user != control_center_default_user else '' }}"
  Group: "{{ control_center_group if control_center_group != control_center_default_group else '' }}"
  ExecStart: "{% if installation_method == 'archive' %}{{ control_center.server_start_file }} {{ control_center.config_file }}{% endif %}"

### Environment Variables to be added to the Control Center Service. This variable is a dictionary.
control_center_service_environment_overrides:
  ROCKSDB_SHAREDLIB_DIR: "{{control_center_rocksdb_path}}"
  CONTROL_CENTER_HEAP_OPTS: "-Xmx6g"
  CONTROL_CENTER_OPTS: "{{ control_center_final_java_args | confluent.platform.java_arg_build_out }}"
  CONTROL_CENTER_LOG4J_OPTS: "{% if control_center_custom_log4j|bool %}-Dlog4j.configuration=file:{{control_center.log4j_file}}{% endif %}"
  # Remove trailing slash if there is one
  LOG_DIR: "{{ control_center_log_dir|regex_replace('\\/$', '') }}"
  CONFLUENT_SECURITY_MASTER_KEY: "{% if control_center_secrets_protection_enabled|bool %}{{secrets_protection_masterkey}}{% endif %}"

### Overrides to the Unit Section of Control Center Systemd File. This variable is a dictionary.
control_center_service_unit_overrides:

### Time in seconds to wait before starting Control Center Health Checks.
control_center_health_check_delay: 30

control_center_secrets_protection_file: "{{ ssl_file_dir_final }}/control-center-security.properties"
